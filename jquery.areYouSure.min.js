/*!
 * jQuery AreYouSure 1.0.1
 *
 * Copyright 2016 Nikolaj LÃ¸venhardt Petersen
 * Released under the MIT license
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(e){this.message=e,this.getMessage=function(){return this.message}}e.fn.areYouSure=function(t){switch(t){case"reload":n.reload();break;case"remove":return void(n.elements=e.grep(n.elements,function(e){return e!=this}));default:var a=e.extend({},e.fn.areYouSure.defaults,t);return n.bindListener(this,a)}},e.fn.areYouSure.defaults={except:"",warningText:"You have made changes that have not been saved. Do you want to leave?"};var n={elements:[],slug:"areyousure-",validate:function(){try{n.elements.forEach(function(a){var s=e(a),i=s.data(n.slug+"serialize"),r=s.serialize();if(i==r||"disabled"==s.data(n.slug+"disabled"))return!1;throw new t(s.data(n.slug+"warningText"))})}catch(a){if(!(a instanceof t))throw a;return a.getMessage()}},reload:function(){return console.log(n.elements),n.setData(e(n.elements)),!0},bindListener:function(t,a){var s=e(t).not(a.except);s.data(n.slug+"except",a.except),s.data(n.slug+"warningText",a.warningText),e.each(s,function(t,a){var s=e(a);n.elements.push(a),s.is("form")&&s.on("submit",function(){s.data(n.slug+"disabled","disabled")}),s.parents("form").on("submit",function(){s.data(n.slug+"disabled","disabled")})}),n.setData(s)},setData:function(t){t.each(function(t,a){var s=e(a);s.data(n.slug+"serialize",s.serialize())})}};e(window).on("beforeunload",function(){return n.validate()})});